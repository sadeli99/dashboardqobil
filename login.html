<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" type="image/png" sizes="192x192" href="images/icon-192x192.png" />
    <title>Dashboard pengantin - undangan qobilto</title>
    <meta name="title" content="Dashboard tamu undangan qobilto">
    <meta classname="meta-description" name="description" content="Pantau undangan dgital kamu dimana saja kapan saja">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Dashboard tamu undangan qobilto">
    <meta classname="meta-description" property="og:description" content="Pantau undangan dgital kamu dimana saja kapan saja">
    <meta property="twitter:title" content="Dashboard tamu undangan qobilto">
    <meta classname="meta-description" property="twitter:description" content="Pantau undangan dgital kamu dimana saja kapan saja">
    <meta name="author" content="QOBILTO">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.3.0/uicons-solid-rounded/css/uicons-solid-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.3.0/uicons-bold-rounded/css/uicons-bold-rounded.css">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.3.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    <link rel="stylesheet" href="assets/css/style.css">
    
    <style>
    
    @font-face {
    font-family: myfontsubtitle1;
    src: url(assets/fonts/asphalt_maison_neue_bold.ttf) format('truetype');
    }
    
    @font-face {
    font-family: myfontsubtitle2;
    src: url(assets/fonts/asphalt_maison_neue_demi.ttf) format('truetype');
    }
    
    @font-face {
    font-family: myfontsubtitle3;
    src: url(assets/fonts/asphalt_maison_neue_book.ttf) format('truetype');
    }
    
    </style>
</head>
<body>

<div class="container d-flex flex-column justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="col-12 col-md-8 col-lg-6">
        <div class="text-center mb-4">
           
            <img src="https://cdn-icons-png.flaticon.com/512/6245/6245992.png" alt="Logo or Image" class="img-fluid mb-5" style="max-width: 100px;">
            
            <h1 class="title">Selamat datang di qobilto</h1>
            <p class="subtitle">Masukan data login kamu yang sudah diberikan datanya</p>
        </div>
        <div class="card shadow-lg rounded-4 mx-3 my-4 p-3">
           
            <div class="card-body">
                <form id="loginForm">
                    <div class="mb-3">
                        <label for="email" class="form-label subtitle">Email</label>
                        <input type="email" class="form-control input-50 title" id="email" placeholder="Enter your email">
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label subtitle">Password</label>
                        <input type="password" class="form-control input-50 title" id="password" placeholder="Enter your password">
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn bg-button input-50 title" id="loginButton">
                            Masuk
                        </button>
                    </div>
                    <div id="message" class="text-center mt-3"></div>
                </form>
            </div>
            
        </div>
    </div>
    
    <!-- Gambar di bagian bawah, diposisikan di tengah -->
  
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
$(document).ready(function() {
    // Redirect ke dashboard jika sudah login
    if (localStorage.getItem("isLoggedIn") === "true") {
        window.location.href = "dashboard.html"; // Ubah ke URL dashboard Anda
    }

    $('#loginForm').on('submit', function(e) {
        e.preventDefault(); // Mencegah reload pada form
        var email = $('#email').val();
        var password = $('#password').val();
        
        var $loginButton = $('#loginButton');
        var originalText = $loginButton.text(); // Simpan teks asli tombol
        $loginButton.html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...'); // Tampilkan loading spinner

        $.ajax({
            url: 'https://script.google.com/macros/s/AKfycbyR94DiFNZmbG3fTfUxEP9BpM5CNS5Tlzc4CdSAKHw2TjSXMHREvRannrdy2aWZafG_/exec?action=update',
            type: 'GET',
            data: {
                email: email,
                id: password
            },
            success: function(response) {
                if (response.result === "id not found") {
                    $('#message').text('ID not found! Please check your credentials.').css('color', 'red');
                    $loginButton.html(originalText); // Kembalikan teks asli tombol
                } else {
                    localStorage.setItem("isLoggedIn", "true");
                    localStorage.setItem("userEmail", email);
                    window.location.href = "dashboard.html"; // Alihkan ke dashboard
                }
            },
            error: function(xhr, status, error) {
                $('#message').text('An error occurred! Please try again later.').css('color', 'red');
                $loginButton.html(originalText); // Kembalikan teks asli tombol
            }
        });
    });
});
</script>

</body>
</html>